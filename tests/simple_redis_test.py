import redis, time, random, string; c=redis.Redis(decode_responses=True); print("===== Redis性能测试 ====="); t=time.time(); p=c.ping(); print(f"PING测试: {(time.time()-t)*1000:.2f}ms"); k=f"test:{random.randint(1,1000)}"; t=time.time(); c.set(k,"test",ex=60); print(f"SET操作: {(time.time()-t)*1000:.2f}ms"); t=time.time(); v=c.get(k); print(f"GET操作: {(time.time()-t)*1000:.2f}ms"); pipe=c.pipeline(); t=time.time(); [pipe.set(f"batch:{i}",f"value-{i}") for i in range(100)]; pipe.execute(); print(f"批量SET(100): {(time.time()-t)*1000:.2f}ms"); t=time.time(); pipe=c.pipeline(); [pipe.get(f"batch:{i}") for i in range(100)]; pipe.execute(); print(f"批量GET(100): {(time.time()-t)*1000:.2f}ms")
